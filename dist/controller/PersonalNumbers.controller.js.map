{"version":3,"file":"PersonalNumbers.controller.js","names":["BaseController","PersonalNumbers","onInit","oRouter","UIComponent","getRouterFor","getRoute","attachMatched","_initialFunc","countModel","getCountsModel","selectedItemPath","getProperty","selectedItem","DeppClone","structuredClone","personalNums","Array","count","setProperty","onNavBack","savePersonalNumbers","itemModified","approve","changeNumber","oEvent","pathToUpdate","getSource","getBindingContext","getPath","newValue","getParameter"],"sources":["../../src/controller/PersonalNumbers.controller.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unsafe-assignment */\r\nimport UIComponent from \"sap/ui/core/UIComponent\";\r\nimport BaseController from \"./BaseController\";\r\nimport { IItemForCount } from \"./SingleCount.controller\";\r\nimport Event from \"sap/ui/base/Event\";\r\nimport Input from \"sap/m/Input\";\r\n\r\n/**\r\n * @namespace ICL.InventoryCount.controller\r\n */\r\nexport default class PersonalNumbers extends BaseController {\r\n    onInit() {\r\n        const oRouter = UIComponent.getRouterFor(this);\r\n        // eslint-disable-next-line @typescript-eslint/unbound-method\r\n        oRouter.getRoute(\"personalNumbers\").attachMatched(this._initialFunc, this);\r\n    }\r\n\r\n    private _initialFunc() {\r\n        const countModel = this.getCountsModel();\r\n        const selectedItemPath = countModel.getProperty('/oMaintain/selItemForPN') as string\r\n        const selectedItem = countModel.getProperty(selectedItemPath) as IItemForCount;\r\n        const DeppClone = structuredClone(selectedItem) as IItemForCount\r\n\r\n        if (DeppClone) {\r\n            if (!DeppClone.personalNums)\r\n                DeppClone.personalNums = new Array<string>(+DeppClone.count);\r\n            countModel.setProperty('/oMaintain/tempSelectedItem', DeppClone);\r\n        }\r\n        else { this.onNavBack() }\r\n    }\r\n    savePersonalNumbers() {\r\n        const countModel = this.getCountsModel();\r\n        const selectedItemPath = countModel.getProperty('/oMaintain/selItemForPN') as string\r\n        const itemModified = countModel.getProperty('/oMaintain/tempSelectedItem') as IItemForCount\r\n        const DeppClone = structuredClone(itemModified) as IItemForCount\r\n        DeppClone.approve = true\r\n        countModel.setProperty(selectedItemPath, DeppClone);\r\n\r\n        this.onNavBack()\r\n    }\r\n    changeNumber(oEvent: Event) {\r\n        const pathToUpdate = (oEvent.getSource() as Input).getBindingContext('CountsModel').getPath()\r\n        const countModel = this.getCountsModel();\r\n        const newValue = (oEvent.getParameter('newValue') as string);\r\n        countModel.setProperty(pathToUpdate, newValue)\r\n\r\n    }\r\n}"],"mappings":";;;;QAEOA,cAAc;EAKrB;AACA;AACA;EAFA,MAGqBC,eAAe,GAASD,cAAc;IACvDE,MAAM,qBAAG;MACL,MAAMC,OAAO,GAAGC,WAAW,CAACC,YAAY,CAAC,IAAI,CAAC;MAC9C;MACAF,OAAO,CAACG,QAAQ,CAAC,iBAAiB,CAAC,CAACC,aAAa,CAAC,IAAI,CAACC,YAAY,EAAE,IAAI,CAAC;IAC9E,CAAC;IAEOA,YAAY,0BAAG;MACnB,MAAMC,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxC,MAAMC,gBAAgB,GAAGF,UAAU,CAACG,WAAW,CAAC,yBAAyB,CAAW;MACpF,MAAMC,YAAY,GAAGJ,UAAU,CAACG,WAAW,CAACD,gBAAgB,CAAkB;MAC9E,MAAMG,SAAS,GAAGC,eAAe,CAACF,YAAY,CAAkB;MAEhE,IAAIC,SAAS,EAAE;QACX,IAAI,CAACA,SAAS,CAACE,YAAY,EACvBF,SAAS,CAACE,YAAY,GAAG,IAAIC,KAAK,CAAS,CAACH,SAAS,CAACI,KAAK,CAAC;QAChET,UAAU,CAACU,WAAW,CAAC,6BAA6B,EAAEL,SAAS,CAAC;MACpE,CAAC,MACI;QAAE,IAAI,CAACM,SAAS,EAAE;MAAC;IAC5B,CAAC;IACDC,mBAAmB,kCAAG;MAClB,MAAMZ,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxC,MAAMC,gBAAgB,GAAGF,UAAU,CAACG,WAAW,CAAC,yBAAyB,CAAW;MACpF,MAAMU,YAAY,GAAGb,UAAU,CAACG,WAAW,CAAC,6BAA6B,CAAkB;MAC3F,MAAME,SAAS,GAAGC,eAAe,CAACO,YAAY,CAAkB;MAChER,SAAS,CAACS,OAAO,GAAG,IAAI;MACxBd,UAAU,CAACU,WAAW,CAACR,gBAAgB,EAAEG,SAAS,CAAC;MAEnD,IAAI,CAACM,SAAS,EAAE;IACpB,CAAC;IACDI,YAAY,yBAACC,MAAa,EAAE;MACxB,MAAMC,YAAY,GAAID,MAAM,CAACE,SAAS,EAAE,CAAWC,iBAAiB,CAAC,aAAa,CAAC,CAACC,OAAO,EAAE;MAC7F,MAAMpB,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxC,MAAMoB,QAAQ,GAAIL,MAAM,CAACM,YAAY,CAAC,UAAU,CAAY;MAC5DtB,UAAU,CAACU,WAAW,CAACO,YAAY,EAAEI,QAAQ,CAAC;IAElD;EAAC;EAAA,OApCgB7B,eAAe;AAAA"}