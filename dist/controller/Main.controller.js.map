{"version":3,"file":"Main.controller.js","names":["BaseController","Main","onInit","oRouter","UIComponent","getRouterFor","getRoute","attachMatched","_initialFunc","onAfterRendering","searchFieldExpand","countModel","getCountsModel","setProperty","myComponent","i18n","loadCounts","fetch","then","res","json","data","onPressCount","oEvent","countObj","fetchItems","id","navTo","countId","fetchedCount","filter","order"],"sources":["../../src/controller/Main.controller.ts"],"sourcesContent":["import UIComponent from \"sap/ui/core/UIComponent\";\r\nimport BaseController from \"./BaseController\";\r\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\r\nimport UI5Event from \"sap/ui/base/Event\";\r\nimport { IItemForCount } from \"./SingleCount.controller\";\r\n\r\n\r\nexport type ICount = {\r\n\tid: string\r\n\ttype: string\r\n\ttypeDesc: string\r\n\tstatus: string\r\n\tstatusDesc: string\r\n\tsite: string\r\n\tlocStorage: string\r\n\tstartLoc: string\r\n\tendLoc: string\r\n\tdate: string\r\n\tsla: string\r\n\tcurrentWork: boolean\r\n\tcurrentWorkName: string\r\n}\r\n\r\n/**\r\n * @namespace ICL.InventoryCount.controller\r\n */\r\n\r\nexport default class Main extends BaseController {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tconst oRouter = UIComponent.getRouterFor(this);\r\n\t\t// eslint-disable-next-line @typescript-eslint/unbound-method\r\n\t\toRouter.getRoute(\"main\").attachMatched(this._initialFunc, this);\r\n\t}\r\n\tonAfterRendering() {\r\n\t\tthis.searchFieldExpand('countsListSF')\r\n\t}\r\n\r\n\tprivate _initialFunc() {\r\n\t\tconst countModel = this.getCountsModel();\r\n\t\tcountModel.setProperty('/oMaintain/title', myComponent.i18n('InvCountTitle'));\r\n\t\tcountModel.setProperty('/oFlags/headerNavBack', false);\r\n\t\tthis.loadCounts(countModel)\r\n\t}\r\n\tprivate loadCounts(countModel: JSONModel) {\r\n\t\tvoid fetch(\"/mockData/CountsList.JSON\")\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => countModel.setProperty('/oData/CountsList', data))\r\n\t}\r\n\tprivate onPressCount(oEvent: UI5Event, countObj: ICount) {\r\n\t\tconst countModel = this.getCountsModel();\r\n\t\tcountModel.setProperty('/oMaintain/selCount', countObj);\r\n\t\tthis.fetchItems(countModel, countObj.id)\r\n\t\tthis.navTo('signature')\r\n\t}\r\n\tprivate fetchItems(countModel: JSONModel, countId: string) {\r\n\t\tvoid fetch(\"/mockData/itemsInCounts.JSON\")\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then((data: IItemForCount[]) => {\r\n\t\t\t\tconst fetchedCount = data.filter(order => order.countId === countId)\r\n\t\t\t\tcountModel.setProperty('/oData/countItems', fetchedCount)\r\n\t\t\t})\r\n\t}\r\n\r\n}\r\n"],"mappings":";;;;QACOA,cAAc;EAsBrB;AACA;AACA;EAFA,MAIqBC,IAAI,GAASD,cAAc;IAE/CE,MAAM,qBAAG;MACR;MACA,MAAMC,OAAO,GAAGC,WAAW,CAACC,YAAY,CAAC,IAAI,CAAC;MAC9C;MACAF,OAAO,CAACG,QAAQ,CAAC,MAAM,CAAC,CAACC,aAAa,CAAC,IAAI,CAACC,YAAY,EAAE,IAAI,CAAC;IAChE,CAAC;IACDC,gBAAgB,+BAAG;MAClB,IAAI,CAACC,iBAAiB,CAAC,cAAc,CAAC;IACvC,CAAC;IAEOF,YAAY,0BAAG;MACtB,MAAMG,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxCD,UAAU,CAACE,WAAW,CAAC,kBAAkB,EAAEC,WAAW,CAACC,IAAI,CAAC,eAAe,CAAC,CAAC;MAC7EJ,UAAU,CAACE,WAAW,CAAC,uBAAuB,EAAE,KAAK,CAAC;MACtD,IAAI,CAACG,UAAU,CAACL,UAAU,CAAC;IAC5B,CAAC;IACOK,UAAU,uBAACL,UAAqB,EAAE;MACzC,KAAKM,KAAK,CAAC,2BAA2B,CAAC,CACrCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAIV,UAAU,CAACE,WAAW,CAAC,mBAAmB,EAAEQ,IAAI,CAAC,CAAC;IAClE,CAAC;IACOC,YAAY,yBAACC,MAAgB,EAAEC,QAAgB,EAAE;MACxD,MAAMb,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxCD,UAAU,CAACE,WAAW,CAAC,qBAAqB,EAAEW,QAAQ,CAAC;MACvD,IAAI,CAACC,UAAU,CAACd,UAAU,EAAEa,QAAQ,CAACE,EAAE,CAAC;MACxC,IAAI,CAACC,KAAK,CAAC,WAAW,CAAC;IACxB,CAAC;IACOF,UAAU,uBAACd,UAAqB,EAAEiB,OAAe,EAAE;MAC1D,KAAKX,KAAK,CAAC,8BAA8B,CAAC,CACxCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAAEG,IAAqB,IAAK;QAChC,MAAMQ,YAAY,GAAGR,IAAI,CAACS,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACH,OAAO,KAAKA,OAAO,CAAC;QACpEjB,UAAU,CAACE,WAAW,CAAC,mBAAmB,EAAEgB,YAAY,CAAC;MAC1D,CAAC,CAAC;IACJ;EAAC;EAAA,OApCmB5B,IAAI;AAAA"}