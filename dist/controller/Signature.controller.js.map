{"version":3,"file":"Signature.controller.js","names":["BaseController","EndCountForm","onInit","oRouter","UIComponent","getRouterFor","getRoute","attachMatched","_initialFunc","onAfterRendering","vbox","getView","byId","signaturePad","getItems","attachBrowserEvent","countModel","getCountsModel","setProperty","myComponent","i18n","selCount","getProperty","onNavBack","sendCount","oEvent","navToCount","id","cleanSign","VBox","clear"],"sources":["../../src/controller/Signature.controller.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unsafe-call */\r\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\r\nimport UIComponent from \"sap/ui/core/UIComponent\";\r\nimport BaseController from \"./BaseController\";\r\nimport UI5Event from \"sap/ui/base/Event\";\r\nimport VBox from \"sap/m/VBox\";\r\nimport { ICount } from \"./Main.controller\";\r\ntype ISignature = string\r\n/**\r\n * @namespace ICL.InventoryCount.controller\r\n */\r\nexport default class EndCountForm extends BaseController {\r\n\r\n\r\n    onInit() {\r\n        super.onInit();\r\n        const oRouter = UIComponent.getRouterFor(this);\r\n\r\n        // eslint-disable-next-line @typescript-eslint/unbound-method\r\n        oRouter.getRoute(\"signature\").attachMatched(this._initialFunc, this);\r\n\r\n    }\r\n    onAfterRendering() {\r\n        const vbox = this.getView().byId('signaturePad') as VBox;\r\n        const signaturePad = vbox.getItems()[0];\r\n        signaturePad.attachBrowserEvent('touchend', () => {\r\n            const countModel = this.getCountsModel();\r\n            countModel.setProperty('/oMaintain/signature', true)\r\n        })\r\n    }\r\n    private _initialFunc() {\r\n        const countModel = this.getCountsModel();\r\n        countModel.setProperty('/oMaintain/title', myComponent.i18n('startCountTitle'));\r\n        countModel.setProperty('/oFlags/headerNavBack', true);\r\n        const selCount = countModel.getProperty('/oMaintain/selCount') as ICount;\r\n        if (!selCount)\r\n            this.onNavBack()\r\n\r\n    }\r\n    sendCount(oEvent: UI5Event) {\r\n        const countModel = this.getCountsModel();\r\n        const selCount = countModel.getProperty('/oMaintain/selCount') as ICount;\r\n        // call post serivce\r\n        this.navToCount(oEvent, selCount.id)\r\n\r\n    }\r\n    cleanSign(oEvent: Event) {\r\n        const countModel = this.getCountsModel();\r\n        countModel.setProperty('/oMaintain/countedForm/signature', true)\r\n        const VBox = this.getView().byId('signaturePad') as VBox;\r\n        const signaturePad: any = VBox.getItems()[0];\r\n        signaturePad.clear()\r\n        countModel.setProperty('/oMaintain/signature', false)\r\n\r\n    }\r\n}"],"mappings":";;;;QAIOA,cAAc;EAKrB;AACA;AACA;EAFA,MAGqBC,YAAY,GAASD,cAAc;IAGpDE,MAAM,qBAAG;MACL;MACA,MAAMC,OAAO,GAAGC,WAAW,CAACC,YAAY,CAAC,IAAI,CAAC;;MAE9C;MACAF,OAAO,CAACG,QAAQ,CAAC,WAAW,CAAC,CAACC,aAAa,CAAC,IAAI,CAACC,YAAY,EAAE,IAAI,CAAC;IAExE,CAAC;IACDC,gBAAgB,+BAAG;MACf,MAAMC,IAAI,GAAG,IAAI,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,cAAc,CAAS;MACxD,MAAMC,YAAY,GAAGH,IAAI,CAACI,QAAQ,EAAE,CAAC,CAAC,CAAC;MACvCD,YAAY,CAACE,kBAAkB,CAAC,UAAU,EAAE,MAAM;QAC9C,MAAMC,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;QACxCD,UAAU,CAACE,WAAW,CAAC,sBAAsB,EAAE,IAAI,CAAC;MACxD,CAAC,CAAC;IACN,CAAC;IACOV,YAAY,0BAAG;MACnB,MAAMQ,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxCD,UAAU,CAACE,WAAW,CAAC,kBAAkB,EAAEC,WAAW,CAACC,IAAI,CAAC,iBAAiB,CAAC,CAAC;MAC/EJ,UAAU,CAACE,WAAW,CAAC,uBAAuB,EAAE,IAAI,CAAC;MACrD,MAAMG,QAAQ,GAAGL,UAAU,CAACM,WAAW,CAAC,qBAAqB,CAAW;MACxE,IAAI,CAACD,QAAQ,EACT,IAAI,CAACE,SAAS,EAAE;IAExB,CAAC;IACDC,SAAS,sBAACC,MAAgB,EAAE;MACxB,MAAMT,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxC,MAAMI,QAAQ,GAAGL,UAAU,CAACM,WAAW,CAAC,qBAAqB,CAAW;MACxE;MACA,IAAI,CAACI,UAAU,CAACD,MAAM,EAAEJ,QAAQ,CAACM,EAAE,CAAC;IAExC,CAAC;IACDC,SAAS,sBAACH,MAAa,EAAE;MACrB,MAAMT,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxCD,UAAU,CAACE,WAAW,CAAC,kCAAkC,EAAE,IAAI,CAAC;MAChE,MAAMW,IAAI,GAAG,IAAI,CAAClB,OAAO,EAAE,CAACC,IAAI,CAAC,cAAc,CAAS;MACxD,MAAMC,YAAiB,GAAGgB,IAAI,CAACf,QAAQ,EAAE,CAAC,CAAC,CAAC;MAC5CD,YAAY,CAACiB,KAAK,EAAE;MACpBd,UAAU,CAACE,WAAW,CAAC,sBAAsB,EAAE,KAAK,CAAC;IAEzD;EAAC;EAAA,OA3CgBjB,YAAY;AAAA"}