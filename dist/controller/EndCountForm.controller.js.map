{"version":3,"file":"EndCountForm.controller.js","names":["BaseController","EndCountForm","onInit","oRouter","UIComponent","getRouterFor","getRoute","attachMatched","_initialFunc","onAfterRendering","vbox","getView","byId","signaturePad","getItems","attachBrowserEvent","countModel","getCountsModel","setProperty","sendCount","oEvent","selCount","getProperty","navToCount","id","onChange","propertyPath","newValue","getParameter","cleanSign","VBox","clear"],"sources":["../../src/controller/EndCountForm.controller.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unsafe-call */\r\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\r\nimport UIComponent from \"sap/ui/core/UIComponent\";\r\nimport BaseController from \"./BaseController\";\r\nimport UI5Event from \"sap/ui/base/Event\";\r\nimport VBox from \"sap/m/VBox\";\r\nimport { ICount } from \"./Main.controller\";\r\ntype ISignature = string\r\n/**\r\n * @namespace ICL.InventoryCount.controller\r\n */\r\nexport default class EndCountForm extends BaseController {\r\n\r\n\r\n    onInit() {\r\n        super.onInit();\r\n        const oRouter = UIComponent.getRouterFor(this);\r\n        // eslint-disable-next-line @typescript-eslint/unbound-method\r\n        oRouter.getRoute(\"signature\").attachMatched(this._initialFunc, this);\r\n    }\r\n    onAfterRendering() {\r\n        const vbox = this.getView().byId('signaturePad') as VBox;\r\n        const signaturePad = vbox.getItems()[0];\r\n        signaturePad.attachBrowserEvent('touchend', () => {\r\n            const countModel = this.getCountsModel();\r\n            countModel.setProperty('/oMaintain/countedForm/signature', true)\r\n        })\r\n    }\r\n    private _initialFunc() {\r\n        const countModel = this.getCountsModel();\r\n        countModel.setProperty('/oMaintain/countedForm', {})\r\n    }\r\n    sendCount(oEvent: UI5Event) {\r\n        const countModel = this.getCountsModel();\r\n        const selCount = countModel.getProperty('/oMaintain/selCount') as ICount;\r\n        // call post serivce\r\n        this.navToCount(oEvent, selCount.id)\r\n\r\n    }\r\n    onChange(oEvent: UI5Event, propertyPath: string) {\r\n        const countModel = this.getCountsModel();\r\n        const newValue = (oEvent.getParameter('newValue') as string);\r\n        countModel.setProperty(`/oMaintain/countedForm/${propertyPath}`, newValue)\r\n    }\r\n    cleanSign(oEvent: Event) {\r\n        const countModel = this.getCountsModel();\r\n        countModel.setProperty('/oMaintain/countedForm/signature', true)\r\n        const VBox = this.getView().byId('signaturePad') as VBox;\r\n        const signaturePad: any = VBox.getItems()[0];\r\n        signaturePad.clear()\r\n        countModel.setProperty('/oMaintain/countedForm/signature', false)\r\n\r\n    }\r\n}"],"mappings":";;;;QAIOA,cAAc;EAKrB;AACA;AACA;EAFA,MAGqBC,YAAY,GAASD,cAAc;IAGpDE,MAAM,qBAAG;MACL;MACA,MAAMC,OAAO,GAAGC,WAAW,CAACC,YAAY,CAAC,IAAI,CAAC;MAC9C;MACAF,OAAO,CAACG,QAAQ,CAAC,WAAW,CAAC,CAACC,aAAa,CAAC,IAAI,CAACC,YAAY,EAAE,IAAI,CAAC;IACxE,CAAC;IACDC,gBAAgB,+BAAG;MACf,MAAMC,IAAI,GAAG,IAAI,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,cAAc,CAAS;MACxD,MAAMC,YAAY,GAAGH,IAAI,CAACI,QAAQ,EAAE,CAAC,CAAC,CAAC;MACvCD,YAAY,CAACE,kBAAkB,CAAC,UAAU,EAAE,MAAM;QAC9C,MAAMC,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;QACxCD,UAAU,CAACE,WAAW,CAAC,kCAAkC,EAAE,IAAI,CAAC;MACpE,CAAC,CAAC;IACN,CAAC;IACOV,YAAY,0BAAG;MACnB,MAAMQ,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxCD,UAAU,CAACE,WAAW,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;IACxD,CAAC;IACDC,SAAS,sBAACC,MAAgB,EAAE;MACxB,MAAMJ,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxC,MAAMI,QAAQ,GAAGL,UAAU,CAACM,WAAW,CAAC,qBAAqB,CAAW;MACxE;MACA,IAAI,CAACC,UAAU,CAACH,MAAM,EAAEC,QAAQ,CAACG,EAAE,CAAC;IAExC,CAAC;IACDC,QAAQ,qBAACL,MAAgB,EAAEM,YAAoB,EAAE;MAC7C,MAAMV,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxC,MAAMU,QAAQ,GAAIP,MAAM,CAACQ,YAAY,CAAC,UAAU,CAAY;MAC5DZ,UAAU,CAACE,WAAW,CAAE,0BAAyBQ,YAAa,EAAC,EAAEC,QAAQ,CAAC;IAC9E,CAAC;IACDE,SAAS,sBAACT,MAAa,EAAE;MACrB,MAAMJ,UAAU,GAAG,IAAI,CAACC,cAAc,EAAE;MACxCD,UAAU,CAACE,WAAW,CAAC,kCAAkC,EAAE,IAAI,CAAC;MAChE,MAAMY,IAAI,GAAG,IAAI,CAACnB,OAAO,EAAE,CAACC,IAAI,CAAC,cAAc,CAAS;MACxD,MAAMC,YAAiB,GAAGiB,IAAI,CAAChB,QAAQ,EAAE,CAAC,CAAC,CAAC;MAC5CD,YAAY,CAACkB,KAAK,EAAE;MACpBf,UAAU,CAACE,WAAW,CAAC,kCAAkC,EAAE,KAAK,CAAC;IAErE;EAAC;EAAA,OAzCgBjB,YAAY;AAAA"}